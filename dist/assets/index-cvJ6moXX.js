import{r as x,j as e,S as D,a,x as M}from"./index-UUOBTXoH.js";import{u as F}from"./useRequest-8cKQC8vy.js";import{u as O,P as R,A as C}from"./index-o7kaHHbJ.js";import{a as L}from"./index-UTz7hxLP.js";import{u as f}from"./useMemoryClick-RVGU509t.js";import{M as T,I as g}from"./intex-4-fou-kq.js";import{a as k}from"./index.esm-AaaHinrt.js";import{u as S}from"./useIgnore-7r5u294N.js";import"./isObjectLike-xbFlPWQQ.js";import"./index-50jjzRES.js";const E=({sorting:l,column:s,sortTable:i})=>{const t=l.column===s&&l.order==="desc";return e.jsx("td",{className:"font-[500] min-w-[95px]",onClick:()=>{i(t?{column:s,order:"asc"}:{column:s,order:"desc"})},children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{children:[" ",s]}),e.jsxs("div",{className:"w-full text-right opacity-0 hover:opacity-100 transition-all duration-300 ease-in-out",children:[e.jsx("span",{className:"inline-block ",children:e.jsx(C,{})}),e.jsx("span",{className:`mr-2 inline-block transition-all ease-in-out duration-300 ${t?"rotate-[180deg] opacity-100":"opacity-0"}`,children:e.jsx(C,{})})]})]})})},s)},A=({columns:l,sorting:s,sortTable:i})=>e.jsx("thead",{className:"capitalize",children:e.jsx("tr",{className:"  border-b text-left whitespace-nowrap  h-[50px] text-[14px] font-[700]",children:l.map(t=>e.jsx(E,{sorting:s,sortTable:i,column:t},t))})}),H=({edit:l,deleteBox:s,data:i})=>e.jsx("tbody",{className:"text-[13px]",children:i.map(t=>e.jsxs("tr",{className:"border-b h-[50px] capitalize text-left",children:[e.jsx("td",{children:t.no}),e.jsx("td",{children:t.title}),e.jsx("td",{children:e.jsx("video",{controls:!0,width:"300",height:"300",children:e.jsx("source",{type:"video/mp4",src:"/videos/community.mp4"})})}),e.jsx("td",{children:t.description}),e.jsxs("td",{children:[e.jsx(a.Button,{onClick:l,placeholder:"button",color:"blue",className:"text-sm mx-2 capitalize",size:"sm",variant:"outlined",children:"Edit"}),e.jsx(a.Button,{onClick:s,placeholder:"button",color:"red",className:"text-sm capitalize",size:"sm",variant:"outlined",children:"Delete"})]})]}))}),V=({edit:l,deleteBox:s,data:i,loading:t})=>{const d=x.useRef(null),u=L(d),h=["no","title","Tutroial Video","description","Action"],[o,p]=f({column:"no",order:"asc"}),{data:n}={...i},{data:r=[]}={...n},m=r.map(b=>({no:b.id,title:b.title,tutorialVideo:"",description:b.description})),{getPaginatedData:j,goToNextPage:v,changePage:N,paginationRange:w,pageNumbersCount:y,currentPage:c,goToPreviousPage:z,setRecordPerPage:B}=O(m),P=x.useMemo(()=>{if(o.order==="desc")return j().reverse();if(o.order=="asc")return j()},[o.order,N,m,r]);return e.jsxs("div",{ref:d,className:"w-full relative bg-white p-5 min-h-[300px]  rounded-md shadow-sm  cursor-pointer",children:[e.jsxs("div",{className:"w-full overflow-x-scroll ",children:[t&&e.jsx("div",{style:u,className:"absolute bg-[#ffffff70]  z-50 flex justify-center items-center",children:e.jsx(D,{width:30,height:30})}),e.jsxs("table",{className:"w-full",children:[e.jsx(A,{columns:h,sorting:o,sortTable:p}),e.jsx(H,{loading:t,edit:l,deleteBox:s,data:P})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 px-4 w-full",children:e.jsx(R,{currentPage:c,getPaginatedData:j,goToNextPage:v,goToPreviousPage:z,changePage:N,paginationRange:w,pageNumbersCount:y,setRecordPerPage:B})})]})},I=({handleOpen:l,open:s,handleClose:i})=>{const{handleMass:t}=S(),[d,u]=f(""),{control:h}=k({mode:"all",defaultValues:{tutroialName:"",description:"",file:""}});return e.jsx(T,{handleOpen:l,open:s,size:"xs",children:e.jsxs(a.DialogBody,{placeholder:"dashboard-dialogbody",children:[e.jsx("p",{className:"text-xl mb-3 text-black",children:"Edit Tutorial"}),e.jsx("p",{className:"mb-3 text-black",children:"Make Edit to Tutorial here. Click save when you're done."}),e.jsxs("form",{children:[e.jsxs("div",{className:"",children:[e.jsx(g,{label:"Tutroial Name",name:"tutroialName",control:h}),e.jsx(g,{label:"Description",name:"description",control:h}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[e.jsxs("div",{onClick:()=>t("value"),children:[e.jsx("p",{className:"text-sm mb-2",children:"Tutorial Video"}),e.jsx("input",{type:"file",id:"file",name:"file",accept:"video/*",onChange:o=>new Promise(async(p,n)=>{const r=o.target;if(!r||!r.files||r.files.length<=0){n("No file selected.");return}const m=r.files[0],j=URL.createObjectURL(m);u(j),p()}),className:"text-sm hidden"}),e.jsx("label",{htmlFor:"file",className:"inline-block text-center cursor-pointer bg-[#efefef] w-full rounded-md text-sm py-2 px-3",children:e.jsx("span",{className:"",children:"File upload"})})]}),d&&e.jsx("div",{children:e.jsx("video",{controls:!0,width:"300",height:"300",children:e.jsx("source",{type:"video/mp4",src:d})})})]})]}),e.jsx("div",{className:" mt-4",children:e.jsxs("div",{className:"w-full flex justify-center",children:[e.jsx(a.Button,{onClick:i,placeholder:"button",className:"bg-white text-black capitalize font-[500] mr-3",children:"Cancel"}),e.jsx(a.Button,{placeholder:"button",className:"bg-primary capitalize font-[500]",children:"Create"})]})})]})]})})},U=({editHandleOpen:l,editOpen:s,editHandleClose:i})=>{const[t,d]=f(""),{control:u}=k({mode:"all",defaultValues:{tutroialName:"",file:""}});return console.log(t),e.jsx(T,{handleOpen:l,open:s,size:"xs",children:e.jsxs(a.DialogBody,{placeholder:"dashboard-dialogbody",children:[e.jsx("p",{className:"text-xl mb-3 text-black",children:"Add New Tutorial"}),e.jsx("p",{className:"mb-3 text-black",children:"Make create to Tutorial here. Click save when you're done."}),e.jsxs("form",{children:[e.jsxs("div",{className:"",children:[e.jsx(g,{label:"Tutroial Name",name:"tutroialName",control:u}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-2",children:"Tutorial Video"}),e.jsx("input",{type:"file",id:"file",name:"file",accept:"video/*",onChange:h=>new Promise(async(o,p)=>{const n=h.target;if(!n||!n.files||n.files.length<=0){p("No file selected.");return}const r=n.files[0],m=URL.createObjectURL(r);d(m),o()}),className:"text-sm hidden"}),e.jsx("label",{htmlFor:"file",className:"inline-block text-center cursor-pointer bg-[#efefef] w-full rounded-md text-sm py-2 px-3",children:e.jsx("span",{className:"",children:"File upload"})})]}),t&&e.jsx("div",{children:e.jsx("video",{controls:!0,width:"300",height:"300",children:e.jsx("source",{type:"video/mp4",src:t})})})]})]}),e.jsx("div",{className:" mt-4",children:e.jsxs("div",{className:"w-full flex justify-center",children:[e.jsx(a.Button,{onClick:i,placeholder:"button",className:"bg-white text-black capitalize font-[500] mr-3",children:"Cancel"}),e.jsx(a.Button,{placeholder:"button",className:"bg-primary capitalize font-[500]",children:"Save"})]})})]})]})})};function q({deleteOpen:l,handleDeleteOpen:s}){return e.jsx(e.Fragment,{children:e.jsxs(a.Dialog,{size:"xs",open:l,handler:s,placeholder:"dialog",children:[e.jsx(a.DialogHeader,{placeholder:"dialogHeader",children:"Delete This Tutorial"}),e.jsx(a.DialogBody,{placeholder:"dialogBody",className:"",children:"Are You sure want to delete this Tutorial?"}),e.jsxs(a.DialogFooter,{placeholder:"dialogfooter",children:[e.jsx(a.Button,{placeholder:"button",variant:"text",color:"red",onClick:s,className:"font-[500] capitalize mr-1",children:e.jsx("span",{children:"Cancel"})}),e.jsx(a.Button,{placeholder:"button",color:"red",className:"font-[500] capitalize",onClick:s,children:e.jsx("span",{children:"Delete"})})]})]})})}const Y=({loading:l,data:s})=>{const{control:i}=k({mode:"all"}),[t,d]=f(!1),[u,h]=f(!1),[o,p]=f(!1),n=x.useCallback(()=>{d(c=>!c)},[]),r=x.useCallback(()=>{h(c=>!c)},[]),m=x.useCallback(()=>{p(c=>!c)},[]),j=x.useMemo(()=>e.jsx(q,{deleteOpen:o,handleDeleteOpen:m}),[o]),v=()=>{d(!1)},N=x.useMemo(()=>e.jsx(I,{handleOpen:n,handleClose:v,open:t}),[t]),w=x.useMemo(()=>e.jsx(U,{editOpen:u,editHandleOpen:r,editHandleClose:r}),[u]),y=x.useMemo(()=>e.jsxs("div",{className:"flex justify-between items-center mt-3 mb-3",children:[e.jsxs("div",{className:" flex items-center  gap-3",children:[e.jsx(g,{className:"max-w-[250px] ",label:"Search ",name:"user",control:i}),e.jsx(a.Button,{placeholder:"search",className:"capitalize mt-6 shadow-none rounded-md",color:"blue",children:"Search"})]}),e.jsx(a.Button,{onClick:n,placeholder:"create-button",className:"capitalize  rounded-md shadow-none mt-6",variant:"outlined",children:"Create"})]}),[]);return e.jsxs("div",{children:[y,w,N,j,e.jsx(V,{loading:l,data:s,edit:r,deleteBox:m})]})},$=()=>{const{loading:l,data:s}=F(M);return e.jsx("div",{className:"p-6",children:e.jsx(Y,{loading:l,data:s})})},G=()=>e.jsx("div",{children:e.jsx($,{})}),le=()=>e.jsx("div",{children:e.jsx(G,{})});export{le as default};
