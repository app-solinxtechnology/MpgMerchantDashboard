import{b as D,R as L,u as F,r as j,y as k,j as l}from"./index-OisYFWKl.js";function T(){const{search:e}=D();return L.useMemo(()=>new URLSearchParams(e),[e])}const y="...",Z=e=>{const f=F(),N=T(),h=N.get("q"),n=N.get("date"),u=[...Array(e).keys()],[r,w]=j.useState(1),[a,C]=j.useState(5),[s]=j.useState(1),[m]=j.useState(3);let o=Math.ceil(u.length/a),d=[...Array(o+1).keys()].slice(1);function g(){r!==o&&w(p=>{let t=p+1;return n===null?f(location.pathname+"?page="+t+"&limit="+a):n!==null&&!h?f(location.pathname+"?page="+t+"&limit="+a+"&date="+n):h&&n===null?f(location.pathname+"?page="+t+"&limit="+a+"&q="+h):n!==null&&h&&f(location.pathname+"?page="+t+"&limit="+a+"&q="+h+"&date="+n),t})}function I(){r!==1&&w(p=>{const t=p-1;return n===null?f(location.pathname+"?page="+t+"&limit="+a):n!==null&&!h?f(location.pathname+"?page="+t+"&limit="+a+"&date="+n):h&&n===null?f(location.pathname+"?page="+t+"&limit="+a+"&q="+h):n!==null&&h&&f(location.pathname+"?page="+t+"&limit="+a+"&q="+h+"&date="+n),t})}function S(p){const t=Number(p);w(t)}const c=()=>{const p=r*a-a,t=p+a;return u.slice(p,t)},i=(p,t)=>{let v=t-p+1;return Array.from({length:v},(b,x)=>x+p)},A=j.useMemo(()=>{if(m+2+s>=o)return i(1,o),d;const t=Math.max(r-s,1),v=Math.min(r+s,o),b=t>2,x=v<=o-2,M=1,E=o;if(!b&&x){let q=3+2*s;return[...i(1,q),y,o]}if(b&&!x){let q=3+2*s,O=i(o-q+1,o);return[M,y,...O]}if(b&&x){let q=i(t,v);return[M,y,...q,y,E]}},[o,s,r,m]);return{currentPage:r,recordPerPage:a,goToNextPage:g,goToPreviousPage:I,changePage:S,getPaginatedData:c,paginationRange:A,pageNumbersCount:d,setRecordPerPage:C}};var G=typeof k=="object"&&k&&k.Object===Object&&k,V=typeof self=="object"&&self&&self.Object===Object&&self;G||V||Function("return this")();function B(){const e=j.useRef(!0);return e.current?(e.current=!1,!0):e.current}function R(e,f){const N=B();j.useEffect(()=>{if(!N)return e()},f)}function Q(e){j.useEffect(e,[])}const _=({currentPage:e,goToNextPage:f,goToPreviousPage:N,getPaginatedData:h,changePage:n,recordPerPage:u,paginationRange:r,pageNumbersCount:w,setRecordPerPage:a})=>{const C=h(),s=D(),m=F(),o=T(),d=o.get("page"),g=o.get("limit"),I=C.length===0,S=d==="1"&&g==="5",c=o.get("q"),i=o.get("date");console.log(C,"hello"),Q(()=>{(d||g)&&(n(Number(d)),a(Number(g)))}),R(()=>{e==0&&n(1)},[e]),R(()=>{I&&n(r.length)},[I]),R(()=>{S&&n(1)},[S]),R(()=>{!c&&!d&&!g&&!i&&m(s.pathname+"?page="+e+"&limit="+u),c&&d&&g&&i&&m(s.pathname+"?page="+e+"&limit="+u+"&q="+c+"&date="+i),c&&d&&g&&m(s.pathname+"?page="+e+"&limit="+u+"&q="+c),d&&g&&m(s.pathname+"?page="+e+"&limit="+u),c&&m(s.pathname+"?page="+e+"&limit="+u+"&q="+c),i&&m(s.pathname+"?page="+e+"&limit="+u+"&date="+i),i&&c&&m(s.pathname+"?page="+e+"&limit="+u+"&q="+c+"&date="+i)},[u]);const A=()=>{N()},p=()=>{f()};return l.jsx("div",{className:"",children:l.jsxs("div",{className:"flex flex-row justify-between items-center h-[42px] border-t  bg-white",children:[l.jsxs("div",{className:"text-[12px] w-[50px] ",children:[e," of ",w.length]}),l.jsx("div",{className:"text-[12px] grow text-center",children:l.jsxs("div",{className:"flex flex-row justify-center items-center  space-x-[10px]",children:[l.jsx("div",{onClick:A,children:"<"}),r&&r.length>0&&(r==null?void 0:r.map((t,v)=>t===y?l.jsx("button",{className:"paginationItem",children:"â€¦"},v):l.jsx("div",{className:`cursor-pointer w-[20px] h-[19px] ${e===t?"bg-black text-white":"bg-gray-200   text-black   "}  rounded-[5px]  grid place-items-center text-[12px]`,onClick:b=>{const{innerText:x}=b==null?void 0:b.target;n(Number(x)),i===null?m(s.pathname+"?page="+x+"&limit="+u):i!==null&&!c?m(s.pathname+"?page="+x+"&limit="+u+"&date="+i):c&&i===null?m(s.pathname+"?page="+x+"&limit="+u+"&q="+c):i!==null&&c&&m(s.pathname+"?page="+x+"&limit="+u+"&q="+c+"&date="+i)},children:t},v))),l.jsx("div",{onClick:p,children:">"})]})}),l.jsx("div",{className:"text-[12px] w-[50px] mr-10",children:l.jsxs("select",{className:"px-2 py-1",defaultValue:"",onChange:t=>{a(Number(t.target.value))},children:[l.jsx("option",{selected:!0,value:5,children:"per page"}),l.jsx("option",{value:"5",children:"5"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"10",children:"10"}),l.jsx("option",{value:"20",children:"20"})]})})]})})},$=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",children:l.jsx("path",{fill:"currentColor",d:"m205.66 149.66l-72 72a8 8 0 0 1-11.32 0l-72-72a8 8 0 0 1 11.32-11.32L120 196.69V40a8 8 0 0 1 16 0v156.69l58.34-58.35a8 8 0 0 1 11.32 11.32"})});export{$ as A,_ as P,T as a,Q as b,R as c,Z as u};
