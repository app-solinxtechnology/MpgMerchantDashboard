import{z as _,j as e,a as l,r as g,S as Q,A as $}from"./index-UUOBTXoH.js";import{u as k}from"./useRequest-8cKQC8vy.js";import{M as F,I as y}from"./intex-4-fou-kq.js";import{a as B}from"./index.esm-AaaHinrt.js";import{u as C}from"./useMemoryClick-RVGU509t.js";import{z as j,t as H,l as A}from"./zod-bBmDGxdy.js";import{e as D}from"./index-JtI0AH6f.js";import{u as O,P as T,A as S}from"./index-o7kaHHbJ.js";import{a as R}from"./index-UTz7hxLP.js";import{u as I}from"./useIgnore-7r5u294N.js";import"./isObjectLike-xbFlPWQQ.js";import"./index-50jjzRES.js";import"./v4-yQnnJER4.js";const L=j.object({questionEn:j.string().min(1,{message:"question en is required"}),questionMm:j.string().min(1,{message:"question mm is required"}),answerMm:j.string().min(1,{message:"answer mm is required"}),answerEn:j.string().min(1,{message:"answer en is required"})}),V=({handleOpen:t,open:s,handleClose:o})=>{var p,f,w,N,d,n,E,u;const{loading:a,runAsync:m}=k(_,{manual:!0}),{control:x,register:h,reset:q,handleSubmit:i,clearErrors:v,formState:{errors:r,touchedFields:M}}=B({resolver:H(L),mode:"onSubmit",defaultValues:{questionEn:"",questionMm:"",answerMm:"",answerEn:""}}),c=M.questionMm,b=z=>{A(m({answer_en:z.answerEn,answer_mm:z.answerMm,question_en:z.questionEn,question_mm:z.questionMm,status:"active"}),{loading:"verifying",success:()=>(q(),o(),"success"),error:P=>D(P)})};return e.jsx(F,{handleOpen:t,open:s,size:"xs",children:e.jsxs(l.DialogBody,{placeholder:"dashboard-dialogbody",children:[e.jsx("p",{className:"text-xl mb-3 text-black",children:"Question and Answer"}),e.jsxs("form",{onSubmit:i(b),children:[e.jsxs("div",{className:"",children:[e.jsx(y,{message:c?(p=r.questionMm)==null?void 0:p.message:"",className:"mb-3",autoFocus:!1,label:"Question {Myanmar}",name:"questionMm",control:x}),e.jsx(y,{message:(f=r.questionEn)==null?void 0:f.message,className:"mb-3",label:"Question (English)",name:"questionEn",control:x}),e.jsxs("div",{className:"grow mb-3",children:[e.jsx("p",{className:`text-sm mb-1 ${((w=r.answerMm)==null?void 0:w.message)&&"text-red-500"}`,children:"Answer (Myanmar)"}),e.jsx("div",{className:`h-[100px] px-3 py-1 rounded-md bg-[#efefef] ${r.answerMm&&"text-red-500 border border-red-600"}`,children:e.jsx("textarea",{...h("answerMm"),className:"h-full outline-none bg-transparent w-full"})}),((N=r.answerMm)==null?void 0:N.message)&&e.jsx("p",{className:"text-xs  text-red-500",children:(d=r.answerMm)==null?void 0:d.message})]}),e.jsxs("div",{className:"grow mb-3",children:[e.jsx("p",{className:`text-sm mb-1 ${((n=r.answerEn)==null?void 0:n.message)&&"text-red-500"}`,children:"Answer (English)"}),e.jsx("div",{className:`h-[100px] px-3 py-1 rounded-md bg-[#efefef] ${r.answerEn&&"text-red-500 border border-red-600"}`,children:e.jsx("textarea",{...h("answerEn"),className:"h-full outline-none bg-transparent w-full"})}),((E=r.answerEn)==null?void 0:E.message)&&e.jsx("p",{className:"text-xs  text-red-500",children:(u=r.answerEn)==null?void 0:u.message})]})]}),e.jsx("div",{className:" mt-4",children:e.jsxs("div",{className:"w-full flex justify-center",children:[e.jsx(l.Button,{onClick:()=>{v("questionMm"),q(),o()},placeholder:"button",className:"bg-white text-black capitalize font-[500] mr-3",children:"Cancel"}),e.jsx(l.Button,{loading:a,disabled:a,type:"submit",placeholder:"button",className:"bg-primary capitalize font-[500]",children:"Create"})]})})]})]})})};j.object({questionEn:j.string().min(1,{message:"question en is required"}),questionMm:j.string().min(1,{message:"question mm is required"}),answerMm:j.string().min(1,{message:"answer mm is required"}),answerEn:j.string().min(1,{message:"answer en is required"})});const Y=({editHandleOpen:t,editOpen:s,editHandleClose:o})=>{var r,M,c,b,p,f,w,N;const{loading:a,runAsync:m}=k(_,{manual:!0}),{control:x,register:h,handleSubmit:q,formState:{errors:i}}=B({mode:"all",defaultValues:{questionEn:"",questionMm:"",answerMm:"",answerEn:""}}),v=d=>{A(m({answer_en:d.answerEn,answer_mm:d.answerMm,question_en:d.questionEn,question_mm:d.questionMm,status:"active"}),{loading:"verifying",success:n=>{var E;return localStorage.setItem("adminToken",n.data.data.accessToken),(E=n==null?void 0:n.data)==null?void 0:E.message},error:n=>D(n)})};return e.jsx(F,{handleOpen:t,open:s,size:"xs",children:e.jsxs(l.DialogBody,{placeholder:"dashboard-dialogbody",children:[e.jsx("p",{className:"text-xl mb-3 text-black",children:"Question and Answer"}),e.jsxs("form",{onSubmit:q(v),children:[e.jsxs("div",{className:"",children:[e.jsx(y,{message:(r=i.questionMm)==null?void 0:r.message,className:"mb-3",label:"Question {Myanmar}",name:"questionMm",control:x}),e.jsx(y,{message:(M=i.questionEn)==null?void 0:M.message,className:"mb-3",label:"Question (English)",name:"questionEn",control:x}),e.jsxs("div",{className:"grow mb-3",children:[e.jsx("p",{className:`text-sm mb-1 ${((c=i.answerMm)==null?void 0:c.message)&&"text-red-500"}`,children:"Answer (Myanmar)"}),e.jsx("div",{className:`h-[100px] px-3 py-1 rounded-md bg-[#efefef] ${i.answerMm&&"text-red-500 border border-red-600"}`,children:e.jsx("textarea",{...h("answerMm"),className:"h-full outline-none bg-transparent w-full"})}),((b=i.answerMm)==null?void 0:b.message)&&e.jsx("p",{className:"text-xs  text-red-500",children:(p=i.answerMm)==null?void 0:p.message})]}),e.jsxs("div",{className:"grow mb-3",children:[e.jsx("p",{className:`text-sm mb-1 ${((f=i.answerEn)==null?void 0:f.message)&&"text-red-500"}`,children:"Answer (English)"}),e.jsx("div",{className:`h-[100px] px-3 py-1 rounded-md bg-[#efefef] ${i.answerEn&&"text-red-500 border border-red-600"}`,children:e.jsx("textarea",{...h("answerEn"),className:"h-full outline-none bg-transparent w-full"})}),((w=i.answerEn)==null?void 0:w.message)&&e.jsx("p",{className:"text-xs  text-red-500",children:(N=i.answerEn)==null?void 0:N.message})]})]}),e.jsx("div",{className:" mt-4",children:e.jsxs("div",{className:"w-full flex justify-center",children:[e.jsx(l.Button,{onClick:o,placeholder:"button",className:"bg-white text-black capitalize font-[500] mr-3",children:"Cancel"}),e.jsxs(l.Button,{loading:a,disabled:a,type:"submit",placeholder:"button",className:"bg-primary capitalize font-[500]",children:["Save"," "]})]})})]})]})})},G=({sorting:t,column:s,sortTable:o})=>{const a=t.column===s&&t.order==="desc";return e.jsx("td",{className:"font-[500] min-w-[95px]",onClick:()=>{o(a?{column:s,order:"asc"}:{column:s,order:"desc"})},children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{children:[" ",s]}),e.jsxs("div",{className:"w-full text-right opacity-0 hover:opacity-100 transition-all duration-300 ease-in-out",children:[e.jsx("span",{className:"inline-block ",children:e.jsx(S,{})}),e.jsx("span",{className:`mr-2 inline-block transition-all ease-in-out duration-300 ${a?"rotate-[180deg] opacity-100":"opacity-0"}`,children:e.jsx(S,{})})]})]})})},s)},J=({columns:t,sorting:s,sortTable:o})=>e.jsx("thead",{className:"capitalize",children:e.jsx("tr",{className:"  border-b text-left whitespace-nowrap  h-[50px] text-[15px] font-[500]",children:t.map(a=>e.jsx(G,{sorting:s,sortTable:o,column:a},a))})}),K=({entries:t,editBox:s,deleteBox:o})=>e.jsx("tbody",{className:"text-[14px]",children:t==null?void 0:t.map((a,m)=>e.jsxs("tr",{className:"border-b h-[80px] capitalize text-left",children:[e.jsx("td",{children:a.no}),e.jsx("td",{className:"min-w-[150px]",children:a.question_en}),e.jsx("td",{className:"min-w-[150px]",children:a.answer_en}),e.jsx("td",{className:"min-w-[150px]",children:a.question_mm}),e.jsx("td",{className:"min-w-[150px]",children:a.answer_mm}),e.jsx("td",{children:a.status}),e.jsxs("td",{className:"text-left min-w-[150px]",children:[e.jsx(l.Button,{onClick:s,className:"capitalize font-[400] mx-1 ring-0",color:"blue",size:"sm",variant:"outlined",placeholder:"button-dashbard",children:"Edit"}),e.jsx(l.Button,{onClick:o,className:"capitalize font-[400]  mx-1 right-0 ",color:"red",size:"sm",variant:"outlined",placeholder:"button-dashbard",children:"Delete"})]})]},m))}),U=({editBox:t,deleteBox:s,loading:o,data:a})=>{const m=g.useRef(null),x=R(m),{data:h}={...a},{data:q=[]}={...h},i=q.map(u=>({no:u.id,question_en:u.question_en,answer_en:u.answer_en,question_mm:u.question_mm,answer_mm:u.answer_mm,status:u.status})),v=["no","question_en","answer_en","question_mm","answer_mm","status","action"],[r,M]=C({column:"no",order:"asc"}),{getPaginatedData:c,goToNextPage:b,changePage:p,paginationRange:f,pageNumbersCount:w,currentPage:N,goToPreviousPage:d,setRecordPerPage:n}=O(i),E=g.useMemo(()=>{if(r.order==="desc")return c().reverse();if(r.order=="asc")return c()},[r.order,p]);return e.jsxs("div",{ref:m,className:"w-full min-h-[300px] relative bg-white p-5  rounded-md shadow-sm  cursor-pointer",children:[e.jsxs("div",{className:"w-full overflow-x-scroll",children:[o&&e.jsx("div",{style:x,className:"absolute bg-[#ffffff40] top-0 left-0  z-50 flex justify-center items-center",children:e.jsx(Q,{width:30,height:30})}),e.jsxs("table",{className:"w-full",children:[e.jsx(J,{columns:v,sorting:r,sortTable:M}),e.jsx(K,{entries:E,deleteBox:s,editBox:t})]})]}),e.jsx("div",{className:"absolute w-full bottom-0 left-0 px-4 ",children:e.jsx(T,{currentPage:N,getPaginatedData:c,goToNextPage:b,goToPreviousPage:d,changePage:p,paginationRange:f,pageNumbersCount:w,setRecordPerPage:n})})]})};function W({deleteOpen:t,handleDeleteOpen:s}){return e.jsx(e.Fragment,{children:e.jsxs(l.Dialog,{size:"xs",open:t,handler:s,placeholder:"dialog",children:[e.jsx(l.DialogHeader,{placeholder:"dialogHeader",children:"Delete This FAQ"}),e.jsx(l.DialogBody,{placeholder:"dialogBody",className:"",children:"Are You sure want to delete this FAQ?"}),e.jsxs(l.DialogFooter,{placeholder:"dialogfooter",children:[e.jsx(l.Button,{placeholder:"button",variant:"text",color:"red",onClick:s,className:"font-[500] capitalize mr-1",children:e.jsx("span",{children:"Cancel"})}),e.jsx(l.Button,{placeholder:"button",color:"red",className:"font-[500] capitalize",onClick:s,children:e.jsx("span",{children:"Delete"})})]})]})})}const X=({loading:t,data:s})=>{const{handleMass:o}=I(n=>n);console.log("akk",s);const{control:a}=B({mode:"all",defaultValues:{user:""}}),[m,x]=C(!1),[h,q]=C(!1),[i,v]=C(!1),r=g.useCallback(()=>{o("value"),x(n=>!n)},[]),M=()=>{x(!1)},c=g.useCallback(()=>{q(n=>!n)},[]),b=g.useCallback(()=>{v(n=>!n)},[]),p=g.useMemo(()=>e.jsx(W,{deleteOpen:i,handleDeleteOpen:b}),[i]),f=g.useMemo(()=>e.jsx(V,{handleOpen:r,handleClose:M,open:m}),[m]),w=g.useMemo(()=>e.jsx(Y,{editOpen:h,editHandleOpen:c,editHandleClose:c}),[h]),N=g.useMemo(()=>e.jsx(U,{loading:t,data:s,editBox:c,deleteBox:b}),[t,s]),d=g.useMemo(()=>e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:" flex items-center  gap-3",children:[e.jsx(y,{className:"max-w-[250px] ",label:"Search ",name:"user",control:a}),e.jsx(l.Button,{placeholder:"search",className:"capitalize mt-6 shadow-none rounded-md",color:"blue",children:"Search"})]}),e.jsx("div",{children:e.jsx(l.Button,{onClick:r,placeholder:"create-button",className:"capitalize mx-2  rounded-md shadow-none mt-6",variant:"outlined",children:"Create"})})]}),[]);return e.jsxs("div",{children:[d,N,f,w,p]})},Z=()=>{const{loading:t,data:s}=k($);return e.jsx("div",{className:"p-6",children:e.jsx(X,{loading:t,data:s})})},ee=()=>e.jsx("div",{children:e.jsx(Z,{})}),he=()=>e.jsx("div",{children:e.jsx(ee,{})});export{he as default};
