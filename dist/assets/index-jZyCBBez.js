import{R as j,r as p,j as s,u as b,a as w,L as N}from"./index-ZNH9tNY-.js";import{E as v,a as y}from"./index-WeNPHJXi.js";import{u as S,a as E}from"./index.esm-qzCJJm_s.js";import{u as P}from"./useRequest-huTtaaM1.js";import{z as x,t as k,l as C}from"./zod-70u2vrAP.js";import{e as L}from"./index-JtI0AH6f.js";import"./isObjectLike-S4Xuhf35.js";import"./v4-yQnnJER4.js";const g=j.memo(({className:l,label:o,password:r=!1,name:d,type:u,message:a,control:m,...n})=>{const{field:t}=S({name:d,control:m});let i=!r;const[e,c]=p.useState(i),f=p.useCallback(()=>{c(h=>!h)},[]);return s.jsxs("div",{className:"mb-1 grow",children:[s.jsxs("div",{children:[o&&s.jsx("label",{className:` ${a&&"text-red-600"} text-[14px]  inline-block mb-1 `,children:o}),s.jsxs("div",{className:`flex h-10 w-full rounded-md outline-none ${a&&"border border-red-500"}  border-input bg-[#efefef] grow px-3 py-2 text-sm ${l}`,children:[s.jsx("input",{...t,type:e?"text":"password",className:"outline-none w-full h-full bg-[#efefef]",...n}),r&&s.jsx("span",{className:"inline-block mt-[6px]",onClick:f,children:e?s.jsx(v,{}):s.jsx(y,{})})]})]}),a&&s.jsx("p",{className:"text-xs  text-red-500",children:a})]})}),R="/assets/bg-white-CfGHfb_q.png",q=x.object({email:x.string().min(1,{message:"email is required"}).email("Invalid email (example : username@gmail.com)"),password:x.string().min(1,{message:"password is required"})}),B=()=>{var n,t;const{control:l,handleSubmit:o,formState:{errors:r}}=E({mode:"onChange",resolver:k(q),defaultValues:{password:"",email:""}}),d=b(),{loading:u,runAsync:a}=P(N,{manual:!0}),m=async i=>{C(a({email:i.email,password:i.password}),{loading:"verifying",success:e=>{var c;return localStorage.setItem("merchantToken",e.data.data.accessToken),d("/dashboard"),(c=e==null?void 0:e.data)==null?void 0:c.message},error:e=>L(e)})};return s.jsx("main",{className:" h-screen  ",children:s.jsxs("div",{className:"grid grid-cols-1 h-full   lg:grid-cols-3",children:[s.jsxs("div",{className:"flex flex-col h-screen items-center justify-around   ",children:[s.jsx("div",{className:"",children:s.jsxs("div",{children:[s.jsx("div",{className:" flex items-center justify-center text-4xl font-[600]",children:s.jsx("span",{children:"MPG Payment"})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:R,className:"w-auto max-h-[190px]  rounded-full",alt:""})})]})}),s.jsxs("div",{className:" bg-white shadow-lg p-8 w-[380px] cursor-pointer rounded-md",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("p",{className:" mb-1 text-lg font-bold",children:"Merchant Login"})}),s.jsxs("form",{className:" gap-6",onSubmit:o(m),children:[s.jsx(g,{message:(n=r.email)==null?void 0:n.message,label:"Email",placeholder:"Enter your username",className:"w-96  ",name:"email",control:l}),s.jsx(g,{label:"Password",message:(t=r.password)==null?void 0:t.message,placeholder:"Enter your password",className:"w-96  border-grey border-[1px]",password:!0,name:"password",control:l}),s.jsx(w.Button,{disabled:u,type:"submit",placeholder:"button",className:"bg-[#3a86ff] mt-2 w-full ",children:"Sign In"})]})]})]}),s.jsxs("div",{className:"h-screen   lg:col-span-2 bg-[url('/woman.jpg')] bg-cover img-bg",children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]})]})})};export{B as default};
