import{r as j,j as e,S as v,u as D,b as Y,a as h,n as P}from"./index-ZNH9tNY-.js";import{u as S}from"./useRequest-huTtaaM1.js";import{u as M,P as C,A as p,a as I,b as k,c as z}from"./index-V_4-HIdj.js";import{e as R,h as d}from"./moment-Sy7GA5pO.js";import{u as T}from"./useIgnore-fisCkMnE.js";import{a as L,C as A}from"./index.esm-qzCJJm_s.js";import{a as q}from"./index-7I9RxiaU.js";import{u as B}from"./useMemoryClick-HP8xgs_v.js";import"./isObjectLike-S4Xuhf35.js";const E=({sorting:s,column:a,sortTable:l})=>{const t=s.column===a&&s.order==="desc";return e.jsx("td",{className:"font-[500] min-w-[95px]",onClick:()=>{l(t?{column:a,order:"asc"}:{column:a,order:"desc"})},children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{children:[" ",a]}),e.jsxs("div",{className:"w-full text-right opacity-0 hover:opacity-100 transition-all duration-300 ease-in-out",children:[e.jsx("span",{className:"inline-block ",children:e.jsx(p,{})}),e.jsx("span",{className:`mr-2 inline-block transition-all ease-in-out duration-300 ${t?"rotate-[180deg] opacity-100":"opacity-0"}`,children:e.jsx(p,{})})]})]})})},a)},F=({columns:s,sorting:a,sortTable:l})=>e.jsx("thead",{className:"capitalize",children:e.jsx("tr",{className:"  border-b text-left whitespace-nowrap  h-[50px] text-[14px] font-[700]",children:s.map(t=>e.jsx(E,{sorting:a,sortTable:l,column:t},t))})}),H=({entries:s})=>e.jsx("tbody",{className:"text-[13px]",children:e.jsxs("tr",{className:"border-b h-[50px] capitalize text-left",children:[e.jsx("td",{children:1}),e.jsx("td",{children:s==null?void 0:s.total_users}),e.jsxs("td",{children:[s==null?void 0:s.daily_income," Ks"]})]})}),K=({loading:s,data:a})=>{const l=["No","Total Users","daily Incomes"],[t,i]=B({column:"no",order:"asc"}),n=j.useRef(null),m=q(n),{data:u}={...a},{data:c}={...u};console.log(c);const{getPaginatedData:x,goToNextPage:f,changePage:o,paginationRange:r,pageNumbersCount:g,currentPage:b,recordPerPage:y,goToPreviousPage:N,setRecordPerPage:w}=M(1);return e.jsxs("div",{ref:n,className:"w-full bg-white  px-5 pt-5 overflow-x-scroll  pb-10 relative min-h-[160px] rounded-md shadow-sm  cursor-pointer",children:[e.jsxs("div",{className:"w-full overflow-x-scroll ",children:[s&&e.jsxs("div",{style:m,className:"absolute bg-[#ffffff50]   top-0 left-0 w-full h-full z-[60] flex justify-center items-center",children:[e.jsx(v,{width:24,height:24}),e.jsx("div",{className:"absolute top-0 left-0 w-full bg-[#ffffff50] z-50  blur-[20px] h-full  flex justify-center items-center"})]}),!c&&!s&&e.jsx("div",{className:"absolute top-0 left-0 w-full  h-[180px]  flex justify-center items-center",children:e.jsx("p",{children:"No Data"})}),e.jsxs("table",{className:"w-full h-full",children:[e.jsx(F,{columns:l,sorting:t,sortTable:i}),c&&e.jsx(H,{entries:c})]})]}),e.jsx("div",{className:"absolute w-full bottom-0 left-0 px-4 ",children:e.jsx(C,{recordPerPage:y,currentPage:b,getPaginatedData:x,goToNextPage:f,goToPreviousPage:N,changePage:o,paginationRange:r,pageNumbersCount:g,setRecordPerPage:w})})]})},O=({loading:s,data:a})=>{const[l,t]=j.useState(new Date),{handleMass:i}=T(o=>o),n=D(),m=Y(),{control:u,handleSubmit:c,reset:x}=L({mode:"all",defaultValues:{daily:""}}),f=o=>{const r=o.daily?d(o.daily).format("YYYY[-]MM[-]D"):d(new Date).format("YYYY[-]MM[-]D");n(m.pathname+"?date="+r)};return e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsxs("form",{onSubmit:c(f),className:" flex items-center  gap-3",children:[e.jsxs("div",{className:" ",children:[e.jsx("p",{className:"text-sm mb-1",children:"Daily"}),e.jsx(A,{control:u,name:"daily",render:({field:{onChange:o}})=>e.jsx(R,{maxDate:d().toDate(),selected:l,onChange:r=>{i(r),t(r),o(r)},className:"rounded-md  bg-[#efefef] px-3 py-2 "})})]}),e.jsx(h.Button,{type:"submit",placeholder:"search",className:"capitalize mt-6 shadow-none rounded-md",color:"blue",children:"Search"}),e.jsx(h.Button,{onClick:()=>{x(),setTimeout(()=>{n(m.pathname+"?date="+d(new Date).format("YYYY[-]MM[-]D"))},100),t(new Date)},placeholder:"Reset",className:"capitalize mt-6 shadow-none rounded-md",color:"black",children:"Reset"})]})}),e.jsx(K,{loading:s,data:a})]})},Q=()=>{const a=I().get("date"),{loading:l,data:t,runAsync:i}=S(P,{manual:!0});return k(()=>{const n=d(new Date).format("YYYY[-]MM[-]D");i({date:n})}),z(()=>{a&&i({date:a})},[a]),e.jsx("div",{className:"px-6 pt-6",children:e.jsx(O,{loading:l,data:t})})},U=()=>e.jsx("div",{children:e.jsx(Q,{})}),se=()=>e.jsx("div",{children:e.jsx(U,{})});export{se as default};
